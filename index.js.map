{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46231257-9f78b377890ff4b2ac35cee0f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const getPhotos = requestValue => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: requestValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","export const renderPhotos = photos => {\n  return photos.hits\n    .map(({ largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n      return `<li class=\"photo\">\n      <a href=\"${largeImageURL}\">\n        <img\n        src=\"${webformatURL}\" \n        alt=\"${tags}\" \n        width=\"360\" \n        height=\"152\">\n      </a>\n      <ul class=\"list-value\">\n        <li class=\"list-item\">\n          <p class=\"title\">Likes</p>\n          <p class=\"value\">${likes}</p>\n        </li>\n        <li class=\"list-item\">\n          <p class=\"title\">Views</p>\n          <p class=\"value\">${views}</p>\n        </li>\n        <li class=\"list-item\">\n          <p class=\"title\">Comments</p>\n          <p class=\"value\">${comments}</p>\n        </li>\n        <li class=\"list-item\">\n          <p class=\"title\">Downloads</p>\n          <p class=\"value\">${downloads}</p>\n        </li>\n      </ul>\n      </li>`;\n    })\n    .join('');\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotos } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\n\nconst options = {\n  titleSize: '0px',\n  messageSize: '16px',\n  messageLineHeight: 1.5,\n  messageColor: '#fff',\n  backgroundColor: '#ef4040',\n  position: 'topRight',\n  closeOnEscape: true,\n  iconUrl: 'bi_x-octagon.svg',\n  timeout: 3000,\n  class: 'custom-toast-width',\n  message: 'Sorry, there are no images matching your search query. Please, try again!',\n};\n\nconst form = document.querySelector('form');\nconst wrapPhotos = document.querySelector('.wrap-photos');\nconst loader = document.querySelector('.loader');\n\nconst lightBoxPhotos = new SimpleLightbox('.wrap-photos a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const inputValue = document.querySelector('input').value.trim();\n\n  if (!inputValue) {\n    iziToast.error({ ...options });\n  } else {\n    wrapPhotos.innerHTML = '';\n    loader.classList.remove('visually-hidden');\n\n    getPhotos(inputValue)\n      .then(photos => {\n        if (!photos.hits.length) {\n          iziToast.error({ ...options });\n        } else {\n          wrapPhotos.innerHTML = renderPhotos(photos);\n          lightBoxPhotos.refresh();\n          showCards();\n        }\n      })\n      .catch(error => console.log(error))\n      .finally(() => {\n        loader.classList.add('visually-hidden');\n      });\n  }\n});\n\nfunction showCards() {\n  document.querySelectorAll('.photo').forEach((photo, index) => {\n    setTimeout(() => {\n      photo.classList.add('active');\n    }, index * 100);\n  });\n}\n"],"names":["API_KEY","BASE_URL","getPhotos","requestValue","searchParams","response","renderPhotos","photos","largeImageURL","webformatURL","tags","likes","views","comments","downloads","options","form","wrapPhotos","loader","lightBoxPhotos","SimpleLightbox","event","inputValue","showCards","iziToast","error","photo","index"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAYC,GAAgB,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAeC,GACnBA,EAAO,KACX,IAAI,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAC1D;AAAA,iBACIN,CAAa;AAAA;AAAA,eAEfC,CAAY;AAAA,eACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAOUC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA,YAIjC,EACA,KAAK,EAAE,ECvBNC,EAAU,CACd,UAAW,MACX,YAAa,OACb,kBAAmB,IACnB,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,cAAe,GACf,QAAS,mBACT,QAAS,IACT,MAAO,qBACP,QAAS,2EACX,EAEMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAiB,IAAIC,EAAe,iBAAkB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAa,SAAS,cAAc,OAAO,EAAE,MAAM,OAEpDA,GAGHL,EAAW,UAAY,GACvBC,EAAO,UAAU,OAAO,iBAAiB,EAEzChB,EAAUoB,CAAU,EACjB,KAAKf,GAAU,CACTA,EAAO,KAAK,QAGfU,EAAW,UAAYX,EAAaC,CAAM,EAC1CY,EAAe,QAAO,EACtBI,KAJAC,EAAS,MAAM,CAAE,GAAGT,CAAS,CAAA,CAMvC,CAAO,EACA,MAAMU,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbP,EAAO,UAAU,IAAI,iBAAiB,CAC9C,CAAO,GAlBHM,EAAS,MAAM,CAAE,GAAGT,CAAS,CAAA,CAoBjC,CAAC,EAED,SAASQ,GAAY,CACnB,SAAS,iBAAiB,QAAQ,EAAE,QAAQ,CAACG,EAAOC,IAAU,CAC5D,WAAW,IAAM,CACfD,EAAM,UAAU,IAAI,QAAQ,CAClC,EAAOC,EAAQ,GAAG,CAClB,CAAG,CACH"}